# QTLab2223 - Characterization of a Parametric Amplifier and Qubit
Laboratory of Solid State and Quantum Technologies  
Laboratory classe for the Master's degree in Physic at the University of Milano-Bicocca.

## Instrument comunication
The folder "/src" contains libraries for performing comunication with those instrument that you can find in the laboratory of Quantum Technologies in Milano Bicocca:
- "FieldFox Handheld Microwave Vector Network Analyzer" (vna.py)
- "R&S®SMA RF and microwave signal generator" (sma.py)
- "R&S®FSV Signal and spectrum analyzer" (fsv.py)
- "SIM928 — Rechargeable isolated voltage source" (sim.py)

In order to use remotely an instrument, firstly you need to **create an object** of the class corresponding to the device you want to use. Then the remote control is performed by calling methods on that object. A guided procedure is showed in the **demo notebook** (that you can find in folder "/demo") corresponding to the instrument.
### Instruments' main methods
Here are briefly described the main methods for controlling each device. Other methods' descriptions are reported in the libraries' code as comments.
#### **vna.py**
Vector network analyzer

```python
freqs, I, Q = single_scan(fmin,fmax,powerdBm,ifbw,npoints,navgs)
```
This method performs a scan of the selected port $S_{ij}$ spectrum, that is the ratio between the output power coming from port $i$ and the input power injected in port $j$ by an internal local oscillator ($i,j\in\{1,2\}$). It is a function of the frequency $f$ and its a complex number $$S_{ij}(f) = I(f)+iQ(f)$$
It returns an array _freqs_ containing the sampled frequencies, and two arrays _I_ and _Q_ containing the values of I and Q for the sampled frequencies.

The scan is performed by sampling _npoints_ equally spaced frequencies in the range \[_fmin_,_fmax_\]. _powerdBm_ is the power of the signal generated by the internal local oscillator and _ifbw_ is the "IF Bandwidth", that is the width of the passband filter used to sample each frequency output power.
If _navgs_ $\neq0$ then _navgs_ scans are performed and the the method returns an average of the _navgs_ sampled spectrums.

When the vna object is created, you can choose a parameter _max\_points_. If you call _single\_scan(...)_ with _npoints_ $>$ _max\_points_, then a method called  _multi\_scan(...)_ is invoked, which divides the selected frequency span in many smaller sub-intervals and calls the method _single\_scan(...)_ for each interval.

A vna object has two methods for computing the modulus (in dB) and the phase (in rad) of $S_{ij}(f)$ from the arrays _I_ and _Q_
```python
S21dB = IQ_to_S21dB(I,Q)
phase = IQ_to_phase(I,Q)
```
#### **sma.py**
RF signal generator

```python
Sets the generated signal frequency (in Hz)
set_freq(freq)
Sets the generated signal power (in dBm)
set_amplitude(pow)
Sets the generator state (0: Off, 1: On)
set_output(state)
```
#### **fsv.py**
Spectrum analyzer

This method is analogous to the one with the same name in "vna.py", but this device (the FSV) has only one port so it does not work as a vector analyzer, but as a _spectrum analyzer_. This time the method returns the power (in dBm) of each sampled frequency in the incoming signal.
```python
freq, power = single_scan(fmin,fmax,npoints,navgs)
```
#### **sim.py**
DC voltage generator

```python
Sets the generator voltage (in V) 
set_voltage(self, value)
Sets the generator state (0: Off, 1: On)
set_output(state)
```

**Note that:** the voltage value is rounded at the mV cifer.


## Contributors

- MatteoOrlandoni	(mail: [m.orlandoni@campus.unimib.it](m.orlandoni@campus.unimib.it))
- Rocco	Suanno	    (mail: [r.suanno@campus.unimib.it](r.suanno@campus.unimib.it))
- Davide	Villa	    (mail: [d.villa32@campus.unimib.it](d.villa32@campus.unimib.it))

All contributions are expected to be consistent with [PEP 8 -- Style Guide for Python Code](https://www.python.org/dev/peps/pep-0008/).

